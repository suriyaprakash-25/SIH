{"ast":null,"code":"import _objectSpread from\"D:/SIH 2/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Play,RotateCcw,Save,Download,Settings,AlertTriangle,TrendingUp,TrendingDown,Minus,Plus}from'lucide-react';import{trainService}from'../services/api';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Simulation=()=>{const[trains,setTrains]=useState([]);const[simulationScenario,setSimulationScenario]=useState({excludedTrains:[],modifiedTrains:[],emergencyMaintenance:[],additionalConstraints:{}});const[originalPlan,setOriginalPlan]=useState(null);const[simulatedPlan,setSimulatedPlan]=useState(null);const[comparison,setComparison]=useState(null);const[loading,setLoading]=useState(false);useEffect(()=>{loadTrainData();},[]);const loadTrainData=async()=>{try{const data=await trainService.getTrains();setTrains(data);// Generate baseline plan\nconst baseline=await trainService.generateInductionPlan(data);setOriginalPlan(baseline);}catch(error){console.error('Error loading data:',error);}};const runSimulation=async()=>{setLoading(true);try{// Apply simulation constraints\nconst modifiedTrains=trains.map(train=>{if(simulationScenario.excludedTrains.includes(train.trainId)){return _objectSpread(_objectSpread({},train),{},{availability:'Excluded'});}const modification=simulationScenario.modifiedTrains.find(mod=>mod.trainId===train.trainId);if(modification){return _objectSpread(_objectSpread({},train),modification.changes);}if(simulationScenario.emergencyMaintenance.includes(train.trainId)){return _objectSpread(_objectSpread({},train),{},{fitnessStatus:'Emergency Maintenance Required'});}return train;});// Generate new plan with constraints\nconst simPlan=await trainService.generateInductionPlan(modifiedTrains);setSimulatedPlan(simPlan);// Generate comparison\ngenerateComparison(originalPlan,simPlan);}catch(error){console.error('Error running simulation:',error);}finally{setLoading(false);}};const generateComparison=(original,simulated)=>{var _original$service,_original$standby,_original$maintenance,_simulated$service,_simulated$standby,_simulated$maintenanc;const originalCounts={service:(original===null||original===void 0?void 0:(_original$service=original.service)===null||_original$service===void 0?void 0:_original$service.length)||0,standby:(original===null||original===void 0?void 0:(_original$standby=original.standby)===null||_original$standby===void 0?void 0:_original$standby.length)||0,maintenance:(original===null||original===void 0?void 0:(_original$maintenance=original.maintenance)===null||_original$maintenance===void 0?void 0:_original$maintenance.length)||0};const simulatedCounts={service:(simulated===null||simulated===void 0?void 0:(_simulated$service=simulated.service)===null||_simulated$service===void 0?void 0:_simulated$service.length)||0,standby:(simulated===null||simulated===void 0?void 0:(_simulated$standby=simulated.standby)===null||_simulated$standby===void 0?void 0:_simulated$standby.length)||0,maintenance:(simulated===null||simulated===void 0?void 0:(_simulated$maintenanc=simulated.maintenance)===null||_simulated$maintenanc===void 0?void 0:_simulated$maintenanc.length)||0};const comparison={service:{original:originalCounts.service,simulated:simulatedCounts.service,difference:simulatedCounts.service-originalCounts.service},standby:{original:originalCounts.standby,simulated:simulatedCounts.standby,difference:simulatedCounts.standby-originalCounts.standby},maintenance:{original:originalCounts.maintenance,simulated:simulatedCounts.maintenance,difference:simulatedCounts.maintenance-originalCounts.maintenance},totalAvailable:{original:originalCounts.service+originalCounts.standby,simulated:simulatedCounts.service+simulatedCounts.standby,difference:simulatedCounts.service+simulatedCounts.standby-(originalCounts.service+originalCounts.standby)}};setComparison(comparison);};const addExcludedTrain=trainId=>{if(!simulationScenario.excludedTrains.includes(trainId)){setSimulationScenario(_objectSpread(_objectSpread({},simulationScenario),{},{excludedTrains:[...simulationScenario.excludedTrains,trainId]}));}};const removeExcludedTrain=trainId=>{setSimulationScenario(_objectSpread(_objectSpread({},simulationScenario),{},{excludedTrains:simulationScenario.excludedTrains.filter(id=>id!==trainId)}));};const addEmergencyMaintenance=trainId=>{if(!simulationScenario.emergencyMaintenance.includes(trainId)){setSimulationScenario(_objectSpread(_objectSpread({},simulationScenario),{},{emergencyMaintenance:[...simulationScenario.emergencyMaintenance,trainId]}));}};const removeEmergencyMaintenance=trainId=>{setSimulationScenario(_objectSpread(_objectSpread({},simulationScenario),{},{emergencyMaintenance:simulationScenario.emergencyMaintenance.filter(id=>id!==trainId)}));};const resetSimulation=()=>{setSimulationScenario({excludedTrains:[],modifiedTrains:[],emergencyMaintenance:[],additionalConstraints:{}});setSimulatedPlan(null);setComparison(null);};const exportComparison=()=>{if(!comparison)return;trainService.exportComparisonReport(originalPlan,simulatedPlan,comparison);};const ComparisonCard=_ref=>{let{title,data,color='blue'}=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-700 dark:text-gray-300\",children:title}),data.difference!==0&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center \".concat(data.difference>0?'text-green-600':'text-red-600'),children:[data.difference>0?/*#__PURE__*/_jsx(TrendingUp,{className:\"h-4 w-4 mr-1\"}):/*#__PURE__*/_jsx(TrendingDown,{className:\"h-4 w-4 mr-1\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium\",children:[data.difference>0?'+':'',data.difference]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500 dark:text-gray-400\",children:\"Original:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-900 dark:text-white\",children:data.original})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500 dark:text-gray-400\",children:\"Simulated:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-900 dark:text-white\",children:data.simulated})]})]})]});};const QuickScenarioButton=_ref2=>{let{label,onClick,description}=_ref2;return/*#__PURE__*/_jsxs(\"button\",{onClick:onClick,className:\"p-4 text-left border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900 dark:text-white mb-1\",children:label}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500 dark:text-gray-400\",children:description})]});};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 dark:text-white\",children:\"Simulation & What-If Analysis\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400 mt-1\",children:\"Test different scenarios and see their impact on train planning\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:resetSimulation,className:\"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors duration-200 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(RotateCcw,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Reset\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:runSimulation,disabled:loading,className:\"px-6 py-2 bg-metro-blue text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 flex items-center space-x-2\",children:[loading?/*#__PURE__*/_jsx(Settings,{className:\"h-4 w-4 animate-spin\"}):/*#__PURE__*/_jsx(Play,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:loading?'Running...':'Run Simulation'})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-2 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 dark:text-white mb-4\",children:\"Quick Scenarios\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsx(QuickScenarioButton,{label:\"Train Breakdown\",description:\"Remove K-105 from service due to breakdown\",onClick:()=>{addExcludedTrain('K-105');addEmergencyMaintenance('K-105');}}),/*#__PURE__*/_jsx(QuickScenarioButton,{label:\"Peak Hour Demand\",description:\"Increase service trains by 20%\",onClick:()=>{var _originalPlan$service;// This would modify the constraints\nsetSimulationScenario(_objectSpread(_objectSpread({},simulationScenario),{},{additionalConstraints:{minServiceTrains:Math.ceil(((originalPlan===null||originalPlan===void 0?void 0:(_originalPlan$service=originalPlan.service)===null||_originalPlan$service===void 0?void 0:_originalPlan$service.length)||0)*1.2)}}));}}),/*#__PURE__*/_jsx(QuickScenarioButton,{label:\"Reduced Fleet\",description:\"Remove 3 trains for long-term maintenance\",onClick:()=>{const trainsToExclude=['K-103','K-107','K-112'];setSimulationScenario(_objectSpread(_objectSpread({},simulationScenario),{},{excludedTrains:[...simulationScenario.excludedTrains,...trainsToExclude.filter(id=>!simulationScenario.excludedTrains.includes(id))]}));}}),/*#__PURE__*/_jsx(QuickScenarioButton,{label:\"Emergency Response\",description:\"Maximum available trains for service\",onClick:()=>{setSimulationScenario(_objectSpread(_objectSpread({},simulationScenario),{},{additionalConstraints:{emergencyMode:true,minStandbyTrains:1}}));}})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 dark:text-white mb-4\",children:\"Manual Configuration\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 dark:text-white mb-3\",children:\"Exclude Trains from Service\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-2\",children:trains.map(train=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(simulationScenario.excludedTrains.includes(train.trainId)){removeExcludedTrain(train.trainId);}else{addExcludedTrain(train.trainId);}},className:\"px-3 py-2 text-sm rounded-lg border transition-colors duration-200 \".concat(simulationScenario.excludedTrains.includes(train.trainId)?'bg-red-100 border-red-300 text-red-800 dark:bg-red-900/20 dark:border-red-600 dark:text-red-400':'bg-white border-gray-300 text-gray-700 hover:bg-gray-50 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-600'),children:train.trainId},train.trainId))}),simulationScenario.excludedTrains.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 text-sm text-gray-600 dark:text-gray-400\",children:[\"Excluded: \",simulationScenario.excludedTrains.join(', ')]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 dark:text-white mb-3\",children:\"Emergency Maintenance Required\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-2\",children:trains.filter(train=>!simulationScenario.excludedTrains.includes(train.trainId)).map(train=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(simulationScenario.emergencyMaintenance.includes(train.trainId)){removeEmergencyMaintenance(train.trainId);}else{addEmergencyMaintenance(train.trainId);}},className:\"px-3 py-2 text-sm rounded-lg border transition-colors duration-200 \".concat(simulationScenario.emergencyMaintenance.includes(train.trainId)?'bg-orange-100 border-orange-300 text-orange-800 dark:bg-orange-900/20 dark:border-orange-600 dark:text-orange-400':'bg-white border-gray-300 text-gray-700 hover:bg-gray-50 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-600'),children:train.trainId},train.trainId))}),simulationScenario.emergencyMaintenance.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 text-sm text-gray-600 dark:text-gray-400\",children:[\"Emergency maintenance: \",simulationScenario.emergencyMaintenance.join(', ')]})]})]}),simulatedPlan&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 dark:text-white\",children:\"Simulation Results\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:exportComparison,className:\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Download,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Export Report\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50 dark:bg-gray-700\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Train ID\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Original Assignment\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Simulated Assignment\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Change\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Reason\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"divide-y divide-gray-200 dark:divide-gray-600\",children:trains.map(train=>{var _originalPlan$all,_originalPlan$all$fin,_simulatedPlan$all,_simulatedPlan$all$fi;const originalAssignment=(originalPlan===null||originalPlan===void 0?void 0:(_originalPlan$all=originalPlan.all)===null||_originalPlan$all===void 0?void 0:(_originalPlan$all$fin=_originalPlan$all.find(item=>item.trainId===train.trainId))===null||_originalPlan$all$fin===void 0?void 0:_originalPlan$all$fin.assignment)||'Unknown';const simulatedAssignment=(simulatedPlan===null||simulatedPlan===void 0?void 0:(_simulatedPlan$all=simulatedPlan.all)===null||_simulatedPlan$all===void 0?void 0:(_simulatedPlan$all$fi=_simulatedPlan$all.find(item=>item.trainId===train.trainId))===null||_simulatedPlan$all$fi===void 0?void 0:_simulatedPlan$all$fi.assignment)||'Unknown';const hasChanged=originalAssignment!==simulatedAssignment;return/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50 dark:hover:bg-gray-700/50 \".concat(hasChanged?'bg-yellow-50 dark:bg-yellow-900/20':''),children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white\",children:train.trainId}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\",children:originalAssignment}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\",children:simulatedAssignment}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 whitespace-nowrap\",children:hasChanged?/*#__PURE__*/_jsx(AlertTriangle,{className:\"h-4 w-4 text-yellow-500\"}):/*#__PURE__*/_jsx(Minus,{className:\"h-4 w-4 text-gray-400\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 text-sm text-gray-600 dark:text-gray-400\",children:simulationScenario.excludedTrains.includes(train.trainId)?'Excluded from service':simulationScenario.emergencyMaintenance.includes(train.trainId)?'Emergency maintenance required':hasChanged?'Reassigned due to constraints':'No change'})]},train.trainId);})})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[comparison&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 dark:text-white mb-4\",children:\"Impact Analysis\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(ComparisonCard,{title:\"Service Trains\",data:comparison.service,color:\"green\"}),/*#__PURE__*/_jsx(ComparisonCard,{title:\"Standby Trains\",data:comparison.standby,color:\"yellow\"}),/*#__PURE__*/_jsx(ComparisonCard,{title:\"Maintenance\",data:comparison.maintenance,color:\"red\"}),/*#__PURE__*/_jsx(ComparisonCard,{title:\"Total Available\",data:comparison.totalAvailable,color:\"blue\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 dark:text-white mb-4\",children:\"Key Insights\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[comparison.totalAvailable.difference<0&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-2 p-3 bg-red-50 dark:bg-red-900/20 rounded-lg\",children:[/*#__PURE__*/_jsx(AlertTriangle,{className:\"h-5 w-5 text-red-600 dark:text-red-400 mt-0.5\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-red-800 dark:text-red-300\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Service Impact:\"}),\" \",Math.abs(comparison.totalAvailable.difference),\" fewer trains available for passenger service.\"]})]}),comparison.service.difference<-2&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-2 p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg\",children:[/*#__PURE__*/_jsx(AlertTriangle,{className:\"h-5 w-5 text-orange-600 dark:text-orange-400 mt-0.5\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-orange-800 dark:text-orange-300\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Capacity Warning:\"}),\" Significant reduction in service capacity may affect passenger operations.\"]})]}),comparison.standby.difference<0&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-2 p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg\",children:[/*#__PURE__*/_jsx(AlertTriangle,{className:\"h-5 w-5 text-yellow-600 dark:text-yellow-400 mt-0.5\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-yellow-800 dark:text-yellow-300\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Backup Concern:\"}),\" Reduced standby capacity limits flexibility for unexpected demand.\"]})]}),simulationScenario.excludedTrains.length===0&&simulationScenario.emergencyMaintenance.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg\",children:[/*#__PURE__*/_jsx(Settings,{className:\"h-5 w-5 text-blue-600 dark:text-blue-400 mt-0.5\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-blue-800 dark:text-blue-300\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Baseline:\"}),\" No constraints applied. This shows the optimal allocation.\"]})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 dark:text-white mb-4\",children:\"Current Scenario\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600 dark:text-gray-400\",children:\"Excluded trains:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-900 dark:text-white\",children:simulationScenario.excludedTrains.length||'None'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600 dark:text-gray-400\",children:\"Emergency maintenance:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-900 dark:text-white\",children:simulationScenario.emergencyMaintenance.length||'None'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600 dark:text-gray-400\",children:\"Total fleet:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-900 dark:text-white\",children:trains.length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600 dark:text-gray-400\",children:\"Available for planning:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-900 dark:text-white\",children:trains.length-simulationScenario.excludedTrains.length})]})]})]})]})]})]});};export default Simulation;","map":{"version":3,"names":["React","useState","useEffect","Play","RotateCcw","Save","Download","Settings","AlertTriangle","TrendingUp","TrendingDown","Minus","Plus","trainService","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Simulation","trains","setTrains","simulationScenario","setSimulationScenario","excludedTrains","modifiedTrains","emergencyMaintenance","additionalConstraints","originalPlan","setOriginalPlan","simulatedPlan","setSimulatedPlan","comparison","setComparison","loading","setLoading","loadTrainData","data","getTrains","baseline","generateInductionPlan","error","console","runSimulation","map","train","includes","trainId","_objectSpread","availability","modification","find","mod","changes","fitnessStatus","simPlan","generateComparison","original","simulated","_original$service","_original$standby","_original$maintenance","_simulated$service","_simulated$standby","_simulated$maintenanc","originalCounts","service","length","standby","maintenance","simulatedCounts","difference","totalAvailable","addExcludedTrain","removeExcludedTrain","filter","id","addEmergencyMaintenance","removeEmergencyMaintenance","resetSimulation","exportComparison","exportComparisonReport","ComparisonCard","_ref","title","color","className","children","concat","QuickScenarioButton","_ref2","label","onClick","description","disabled","_originalPlan$service","minServiceTrains","Math","ceil","trainsToExclude","emergencyMode","minStandbyTrains","join","_originalPlan$all","_originalPlan$all$fin","_simulatedPlan$all","_simulatedPlan$all$fi","originalAssignment","all","item","assignment","simulatedAssignment","hasChanged","abs"],"sources":["D:/SIH 2/frontend/src/pages/Simulation.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { \r\n  Play, \r\n  RotateCcw, \r\n  Save, \r\n  Download, \r\n  Settings, \r\n  AlertTriangle,\r\n  TrendingUp,\r\n  TrendingDown,\r\n  Minus,\r\n  Plus\r\n} from 'lucide-react';\r\nimport { trainService } from '../services/api';\r\n\r\nconst Simulation = () => {\r\n  const [trains, setTrains] = useState([]);\r\n  const [simulationScenario, setSimulationScenario] = useState({\r\n    excludedTrains: [],\r\n    modifiedTrains: [],\r\n    emergencyMaintenance: [],\r\n    additionalConstraints: {}\r\n  });\r\n  const [originalPlan, setOriginalPlan] = useState(null);\r\n  const [simulatedPlan, setSimulatedPlan] = useState(null);\r\n  const [comparison, setComparison] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    loadTrainData();\r\n  }, []);\r\n\r\n  const loadTrainData = async () => {\r\n    try {\r\n      const data = await trainService.getTrains();\r\n      setTrains(data);\r\n      \r\n      // Generate baseline plan\r\n      const baseline = await trainService.generateInductionPlan(data);\r\n      setOriginalPlan(baseline);\r\n    } catch (error) {\r\n      console.error('Error loading data:', error);\r\n    }\r\n  };\r\n\r\n  const runSimulation = async () => {\r\n    setLoading(true);\r\n    try {\r\n      // Apply simulation constraints\r\n      const modifiedTrains = trains.map(train => {\r\n        if (simulationScenario.excludedTrains.includes(train.trainId)) {\r\n          return { ...train, availability: 'Excluded' };\r\n        }\r\n        \r\n        const modification = simulationScenario.modifiedTrains.find(mod => mod.trainId === train.trainId);\r\n        if (modification) {\r\n          return { ...train, ...modification.changes };\r\n        }\r\n        \r\n        if (simulationScenario.emergencyMaintenance.includes(train.trainId)) {\r\n          return { ...train, fitnessStatus: 'Emergency Maintenance Required' };\r\n        }\r\n        \r\n        return train;\r\n      });\r\n\r\n      // Generate new plan with constraints\r\n      const simPlan = await trainService.generateInductionPlan(modifiedTrains);\r\n      setSimulatedPlan(simPlan);\r\n      \r\n      // Generate comparison\r\n      generateComparison(originalPlan, simPlan);\r\n    } catch (error) {\r\n      console.error('Error running simulation:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const generateComparison = (original, simulated) => {\r\n    const originalCounts = {\r\n      service: original?.service?.length || 0,\r\n      standby: original?.standby?.length || 0,\r\n      maintenance: original?.maintenance?.length || 0\r\n    };\r\n\r\n    const simulatedCounts = {\r\n      service: simulated?.service?.length || 0,\r\n      standby: simulated?.standby?.length || 0,\r\n      maintenance: simulated?.maintenance?.length || 0\r\n    };\r\n\r\n    const comparison = {\r\n      service: {\r\n        original: originalCounts.service,\r\n        simulated: simulatedCounts.service,\r\n        difference: simulatedCounts.service - originalCounts.service\r\n      },\r\n      standby: {\r\n        original: originalCounts.standby,\r\n        simulated: simulatedCounts.standby,\r\n        difference: simulatedCounts.standby - originalCounts.standby\r\n      },\r\n      maintenance: {\r\n        original: originalCounts.maintenance,\r\n        simulated: simulatedCounts.maintenance,\r\n        difference: simulatedCounts.maintenance - originalCounts.maintenance\r\n      },\r\n      totalAvailable: {\r\n        original: originalCounts.service + originalCounts.standby,\r\n        simulated: simulatedCounts.service + simulatedCounts.standby,\r\n        difference: (simulatedCounts.service + simulatedCounts.standby) - (originalCounts.service + originalCounts.standby)\r\n      }\r\n    };\r\n\r\n    setComparison(comparison);\r\n  };\r\n\r\n  const addExcludedTrain = (trainId) => {\r\n    if (!simulationScenario.excludedTrains.includes(trainId)) {\r\n      setSimulationScenario({\r\n        ...simulationScenario,\r\n        excludedTrains: [...simulationScenario.excludedTrains, trainId]\r\n      });\r\n    }\r\n  };\r\n\r\n  const removeExcludedTrain = (trainId) => {\r\n    setSimulationScenario({\r\n      ...simulationScenario,\r\n      excludedTrains: simulationScenario.excludedTrains.filter(id => id !== trainId)\r\n    });\r\n  };\r\n\r\n  const addEmergencyMaintenance = (trainId) => {\r\n    if (!simulationScenario.emergencyMaintenance.includes(trainId)) {\r\n      setSimulationScenario({\r\n        ...simulationScenario,\r\n        emergencyMaintenance: [...simulationScenario.emergencyMaintenance, trainId]\r\n      });\r\n    }\r\n  };\r\n\r\n  const removeEmergencyMaintenance = (trainId) => {\r\n    setSimulationScenario({\r\n      ...simulationScenario,\r\n      emergencyMaintenance: simulationScenario.emergencyMaintenance.filter(id => id !== trainId)\r\n    });\r\n  };\r\n\r\n  const resetSimulation = () => {\r\n    setSimulationScenario({\r\n      excludedTrains: [],\r\n      modifiedTrains: [],\r\n      emergencyMaintenance: [],\r\n      additionalConstraints: {}\r\n    });\r\n    setSimulatedPlan(null);\r\n    setComparison(null);\r\n  };\r\n\r\n  const exportComparison = () => {\r\n    if (!comparison) return;\r\n    trainService.exportComparisonReport(originalPlan, simulatedPlan, comparison);\r\n  };\r\n\r\n  const ComparisonCard = ({ title, data, color = 'blue' }) => (\r\n    <div className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4\">\r\n      <div className=\"flex items-center justify-between mb-3\">\r\n        <h3 className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">{title}</h3>\r\n        {data.difference !== 0 && (\r\n          <div className={`flex items-center ${data.difference > 0 ? 'text-green-600' : 'text-red-600'}`}>\r\n            {data.difference > 0 ? (\r\n              <TrendingUp className=\"h-4 w-4 mr-1\" />\r\n            ) : (\r\n              <TrendingDown className=\"h-4 w-4 mr-1\" />\r\n            )}\r\n            <span className=\"text-sm font-medium\">\r\n              {data.difference > 0 ? '+' : ''}{data.difference}\r\n            </span>\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div className=\"space-y-2\">\r\n        <div className=\"flex justify-between\">\r\n          <span className=\"text-xs text-gray-500 dark:text-gray-400\">Original:</span>\r\n          <span className=\"text-sm font-medium text-gray-900 dark:text-white\">{data.original}</span>\r\n        </div>\r\n        <div className=\"flex justify-between\">\r\n          <span className=\"text-xs text-gray-500 dark:text-gray-400\">Simulated:</span>\r\n          <span className=\"text-sm font-medium text-gray-900 dark:text-white\">{data.simulated}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const QuickScenarioButton = ({ label, onClick, description }) => (\r\n    <button\r\n      onClick={onClick}\r\n      className=\"p-4 text-left border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-200\"\r\n    >\r\n      <div className=\"font-medium text-gray-900 dark:text-white mb-1\">{label}</div>\r\n      <div className=\"text-sm text-gray-500 dark:text-gray-400\">{description}</div>\r\n    </button>\r\n  );\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex justify-between items-center\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white\">Simulation & What-If Analysis</h1>\r\n          <p className=\"text-gray-600 dark:text-gray-400 mt-1\">\r\n            Test different scenarios and see their impact on train planning\r\n          </p>\r\n        </div>\r\n        <div className=\"flex space-x-3\">\r\n          <button\r\n            onClick={resetSimulation}\r\n            className=\"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors duration-200 flex items-center space-x-2\"\r\n          >\r\n            <RotateCcw className=\"h-4 w-4\" />\r\n            <span>Reset</span>\r\n          </button>\r\n          <button\r\n            onClick={runSimulation}\r\n            disabled={loading}\r\n            className=\"px-6 py-2 bg-metro-blue text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 flex items-center space-x-2\"\r\n          >\r\n            {loading ? <Settings className=\"h-4 w-4 animate-spin\" /> : <Play className=\"h-4 w-4\" />}\r\n            <span>{loading ? 'Running...' : 'Run Simulation'}</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n        {/* Simulation Controls */}\r\n        <div className=\"lg:col-span-2 space-y-6\">\r\n          \r\n          {/* Quick Scenarios */}\r\n          <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6\">\r\n            <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-4\">Quick Scenarios</h2>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <QuickScenarioButton\r\n                label=\"Train Breakdown\"\r\n                description=\"Remove K-105 from service due to breakdown\"\r\n                onClick={() => {\r\n                  addExcludedTrain('K-105');\r\n                  addEmergencyMaintenance('K-105');\r\n                }}\r\n              />\r\n              <QuickScenarioButton\r\n                label=\"Peak Hour Demand\"\r\n                description=\"Increase service trains by 20%\"\r\n                onClick={() => {\r\n                  // This would modify the constraints\r\n                  setSimulationScenario({\r\n                    ...simulationScenario,\r\n                    additionalConstraints: { minServiceTrains: Math.ceil((originalPlan?.service?.length || 0) * 1.2) }\r\n                  });\r\n                }}\r\n              />\r\n              <QuickScenarioButton\r\n                label=\"Reduced Fleet\"\r\n                description=\"Remove 3 trains for long-term maintenance\"\r\n                onClick={() => {\r\n                  const trainsToExclude = ['K-103', 'K-107', 'K-112'];\r\n                  setSimulationScenario({\r\n                    ...simulationScenario,\r\n                    excludedTrains: [...simulationScenario.excludedTrains, ...trainsToExclude.filter(id => !simulationScenario.excludedTrains.includes(id))]\r\n                  });\r\n                }}\r\n              />\r\n              <QuickScenarioButton\r\n                label=\"Emergency Response\"\r\n                description=\"Maximum available trains for service\"\r\n                onClick={() => {\r\n                  setSimulationScenario({\r\n                    ...simulationScenario,\r\n                    additionalConstraints: { emergencyMode: true, minStandbyTrains: 1 }\r\n                  });\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Manual Controls */}\r\n          <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6\">\r\n            <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-4\">Manual Configuration</h2>\r\n            \r\n            {/* Excluded Trains */}\r\n            <div className=\"mb-6\">\r\n              <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-3\">Exclude Trains from Service</h3>\r\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-2\">\r\n                {trains.map(train => (\r\n                  <button\r\n                    key={train.trainId}\r\n                    onClick={() => {\r\n                      if (simulationScenario.excludedTrains.includes(train.trainId)) {\r\n                        removeExcludedTrain(train.trainId);\r\n                      } else {\r\n                        addExcludedTrain(train.trainId);\r\n                      }\r\n                    }}\r\n                    className={`px-3 py-2 text-sm rounded-lg border transition-colors duration-200 ${\r\n                      simulationScenario.excludedTrains.includes(train.trainId)\r\n                        ? 'bg-red-100 border-red-300 text-red-800 dark:bg-red-900/20 dark:border-red-600 dark:text-red-400'\r\n                        : 'bg-white border-gray-300 text-gray-700 hover:bg-gray-50 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-600'\r\n                    }`}\r\n                  >\r\n                    {train.trainId}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n              {simulationScenario.excludedTrains.length > 0 && (\r\n                <div className=\"mt-2 text-sm text-gray-600 dark:text-gray-400\">\r\n                  Excluded: {simulationScenario.excludedTrains.join(', ')}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Emergency Maintenance */}\r\n            <div className=\"mb-6\">\r\n              <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-3\">Emergency Maintenance Required</h3>\r\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-2\">\r\n                {trains.filter(train => !simulationScenario.excludedTrains.includes(train.trainId)).map(train => (\r\n                  <button\r\n                    key={train.trainId}\r\n                    onClick={() => {\r\n                      if (simulationScenario.emergencyMaintenance.includes(train.trainId)) {\r\n                        removeEmergencyMaintenance(train.trainId);\r\n                      } else {\r\n                        addEmergencyMaintenance(train.trainId);\r\n                      }\r\n                    }}\r\n                    className={`px-3 py-2 text-sm rounded-lg border transition-colors duration-200 ${\r\n                      simulationScenario.emergencyMaintenance.includes(train.trainId)\r\n                        ? 'bg-orange-100 border-orange-300 text-orange-800 dark:bg-orange-900/20 dark:border-orange-600 dark:text-orange-400'\r\n                        : 'bg-white border-gray-300 text-gray-700 hover:bg-gray-50 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-600'\r\n                    }`}\r\n                  >\r\n                    {train.trainId}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n              {simulationScenario.emergencyMaintenance.length > 0 && (\r\n                <div className=\"mt-2 text-sm text-gray-600 dark:text-gray-400\">\r\n                  Emergency maintenance: {simulationScenario.emergencyMaintenance.join(', ')}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Simulation Results */}\r\n          {simulatedPlan && (\r\n            <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6\">\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white\">Simulation Results</h2>\r\n                <button\r\n                  onClick={exportComparison}\r\n                  className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200 flex items-center space-x-2\"\r\n                >\r\n                  <Download className=\"h-4 w-4\" />\r\n                  <span>Export Report</span>\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"overflow-x-auto\">\r\n                <table className=\"w-full\">\r\n                  <thead className=\"bg-gray-50 dark:bg-gray-700\">\r\n                    <tr>\r\n                      <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\r\n                        Train ID\r\n                      </th>\r\n                      <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\r\n                        Original Assignment\r\n                      </th>\r\n                      <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\r\n                        Simulated Assignment\r\n                      </th>\r\n                      <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\r\n                        Change\r\n                      </th>\r\n                      <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\r\n                        Reason\r\n                      </th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody className=\"divide-y divide-gray-200 dark:divide-gray-600\">\r\n                    {trains.map(train => {\r\n                      const originalAssignment = originalPlan?.all?.find(item => item.trainId === train.trainId)?.assignment || 'Unknown';\r\n                      const simulatedAssignment = simulatedPlan?.all?.find(item => item.trainId === train.trainId)?.assignment || 'Unknown';\r\n                      const hasChanged = originalAssignment !== simulatedAssignment;\r\n                      \r\n                      return (\r\n                        <tr key={train.trainId} className={`hover:bg-gray-50 dark:hover:bg-gray-700/50 ${hasChanged ? 'bg-yellow-50 dark:bg-yellow-900/20' : ''}`}>\r\n                          <td className=\"px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white\">\r\n                            {train.trainId}\r\n                          </td>\r\n                          <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">\r\n                            {originalAssignment}\r\n                          </td>\r\n                          <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">\r\n                            {simulatedAssignment}\r\n                          </td>\r\n                          <td className=\"px-4 py-4 whitespace-nowrap\">\r\n                            {hasChanged ? (\r\n                              <AlertTriangle className=\"h-4 w-4 text-yellow-500\" />\r\n                            ) : (\r\n                              <Minus className=\"h-4 w-4 text-gray-400\" />\r\n                            )}\r\n                          </td>\r\n                          <td className=\"px-4 py-4 text-sm text-gray-600 dark:text-gray-400\">\r\n                            {simulationScenario.excludedTrains.includes(train.trainId) \r\n                              ? 'Excluded from service'\r\n                              : simulationScenario.emergencyMaintenance.includes(train.trainId)\r\n                              ? 'Emergency maintenance required'\r\n                              : hasChanged \r\n                              ? 'Reassigned due to constraints'\r\n                              : 'No change'\r\n                            }\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Comparison Panel */}\r\n        <div className=\"space-y-6\">\r\n          {comparison && (\r\n            <>\r\n              <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6\">\r\n                <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-4\">Impact Analysis</h2>\r\n                <div className=\"space-y-4\">\r\n                  <ComparisonCard title=\"Service Trains\" data={comparison.service} color=\"green\" />\r\n                  <ComparisonCard title=\"Standby Trains\" data={comparison.standby} color=\"yellow\" />\r\n                  <ComparisonCard title=\"Maintenance\" data={comparison.maintenance} color=\"red\" />\r\n                  <ComparisonCard title=\"Total Available\" data={comparison.totalAvailable} color=\"blue\" />\r\n                </div>\r\n              </div>\r\n\r\n              {/* Key Insights */}\r\n              <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6\">\r\n                <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-4\">Key Insights</h2>\r\n                <div className=\"space-y-3\">\r\n                  {comparison.totalAvailable.difference < 0 && (\r\n                    <div className=\"flex items-start space-x-2 p-3 bg-red-50 dark:bg-red-900/20 rounded-lg\">\r\n                      <AlertTriangle className=\"h-5 w-5 text-red-600 dark:text-red-400 mt-0.5\" />\r\n                      <div className=\"text-sm text-red-800 dark:text-red-300\">\r\n                        <strong>Service Impact:</strong> {Math.abs(comparison.totalAvailable.difference)} fewer trains available for passenger service.\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                  \r\n                  {comparison.service.difference < -2 && (\r\n                    <div className=\"flex items-start space-x-2 p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg\">\r\n                      <AlertTriangle className=\"h-5 w-5 text-orange-600 dark:text-orange-400 mt-0.5\" />\r\n                      <div className=\"text-sm text-orange-800 dark:text-orange-300\">\r\n                        <strong>Capacity Warning:</strong> Significant reduction in service capacity may affect passenger operations.\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                  \r\n                  {comparison.standby.difference < 0 && (\r\n                    <div className=\"flex items-start space-x-2 p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg\">\r\n                      <AlertTriangle className=\"h-5 w-5 text-yellow-600 dark:text-yellow-400 mt-0.5\" />\r\n                      <div className=\"text-sm text-yellow-800 dark:text-yellow-300\">\r\n                        <strong>Backup Concern:</strong> Reduced standby capacity limits flexibility for unexpected demand.\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                  \r\n                  {simulationScenario.excludedTrains.length === 0 && simulationScenario.emergencyMaintenance.length === 0 && (\r\n                    <div className=\"flex items-start space-x-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg\">\r\n                      <Settings className=\"h-5 w-5 text-blue-600 dark:text-blue-400 mt-0.5\" />\r\n                      <div className=\"text-sm text-blue-800 dark:text-blue-300\">\r\n                        <strong>Baseline:</strong> No constraints applied. This shows the optimal allocation.\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n\r\n          {/* Current Scenario Summary */}\r\n          <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6\">\r\n            <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-4\">Current Scenario</h2>\r\n            <div className=\"space-y-3\">\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-sm text-gray-600 dark:text-gray-400\">Excluded trains:</span>\r\n                <span className=\"text-sm font-medium text-gray-900 dark:text-white\">\r\n                  {simulationScenario.excludedTrains.length || 'None'}\r\n                </span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-sm text-gray-600 dark:text-gray-400\">Emergency maintenance:</span>\r\n                <span className=\"text-sm font-medium text-gray-900 dark:text-white\">\r\n                  {simulationScenario.emergencyMaintenance.length || 'None'}\r\n                </span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-sm text-gray-600 dark:text-gray-400\">Total fleet:</span>\r\n                <span className=\"text-sm font-medium text-gray-900 dark:text-white\">\r\n                  {trains.length}\r\n                </span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-sm text-gray-600 dark:text-gray-400\">Available for planning:</span>\r\n                <span className=\"text-sm font-medium text-gray-900 dark:text-white\">\r\n                  {trains.length - simulationScenario.excludedTrains.length}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Simulation;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}